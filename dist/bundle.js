(()=>{"use strict";var __webpack_exports__={};(function(){const defaults={search:(e,t,n,o)=>{},getTotalRows:e=>{},initialPage:1,initialPageSize:15,templateRow:null,autoSort:!0,pageSizeOptions:[5,10,15,25,50],onSelectRow:(e,t,n)=>{},drawFooter:!0,drawSelectPageSize:!0,drawPages:!0,drawSumary:!0},defaults_language={sumary:"Exibindo de {fromRow} até {toRow} de um total de {totalRows}",itensPerPageMessage:"Itens exibidos por página: ",emptyDataMessage:"Nenhum registro foi encontrado.",page_previous:"&lt;",page_next:"&gt;",page_first:"&lt;&lt;",page_last:"&gt;&gt;",sort_none:"&#8597;",sort_asc:"&#9660;",sort_desc:"&#9650;"};function Gridify(e,t,n,o){this.elementSelector=e,this.container=document.querySelector(this.elementSelector),this.options=Object.assign({},defaults,t),this.options.language=Object.assign({},defaults_language,o),this.columns=n,this._defaults=defaults,this.init()}Gridify.prototype={init:function(){this.pageSize=this.options.initialPageSize,this.totalRows=0,this.resetPageValues(),this.createBaseElements()},resetPageValues:function(){this.page=this.options.initialPage,this.fromRow=1,this.toRow=this.pageSize,this.selectedRow=-1,this.sortColumns={}},createBaseElements:function(){const e=document.getElementById(this.elementSelector);let t=e.querySelector("thead");t?(t=document.createElement("thead"),e.appendChild(t)):t.removeAttribute("isInitialized");const n=e.find("tbody");0==n.length&&(n=$(document.createElement("tbody")),e.append(n));const o=e.find("tfoot");0==o.length?(o=$(document.createElement("tfoot")),e.append(o)):o.find("tr td").html(""),e.addClass("tblGdy"),this.search(!0)},createHeader:function(e){if(!e.getAttribute("isInitialized")){e.setAttribute("isInitialized",!0),e.innerHTML="";const n=document.createElement("tr");for(var t in this.columnsCount=0,this.columns)n.appendChild(this.createHeaderColumn(this.columns[t],t)),this.columnsCount++;e.appendChild(n)}},createHeaderColumn:function(e,t){const n=document.createElement("th");if(e.formatFunction||(e.formatFunction=(e,t,n)=>t&&t.toString()||""),this.options.autoSort&&e.dataColumn||e.sortColumn){let t=this.options.language.sort_none,o=0;"asc"===e.initialSort?(t=this.options.language.sort_asc,o=1):"desc"===e.initialSort&&(t=this.options.language.sort_desc,o=2);const s=document.createElement("a");s.href="javascript:void(0);",s.textContent=t,n.appendChild(s),s.sortColumn=e.sortColumn||e.dataColumn,e.initialSort&&(this.sortColumns[s.sortColumn]=e.initialSort,s.orderDir=o),s.addEventListener("click",(()=>{s.orderDir&&0!=s.orderDir?1==s.orderDir?(this.sortColumns[s.sortColumn]="desc",s.orderDir=2,s.textContent=this.options.language.sort_desc):(this.sortColumns[s.sortColumn]="none",s.orderDir=0,s.textContent=this.options.language.sort_none):(this.sortColumns[s.sortColumn]="asc",s.orderDir=1,s.textContent=this.options.language.sort_asc),this.search(!1)}))}return n.textContent=e.caption||t,e.headerStyle&&(n.style.cssText=e.headerStyle),e.headerClass&&n.classList.add(e.headerClass),e.afterHeaderCreated&&e.afterHeaderCreated(n),n},createRow:function(e){if("function"!=typeof e){const t=document.createElement("tr");t.dataRow=e;for(let n in this.columns)trEl.appendChild(this.createColumn(e,this.columns[n],n,t));return t}},createColumn:function(e,t,n,o){const s=document.createElement("td"),i=/\${(\w+)}/gi;if(t.rowTemplate){let n=t.rowTemplate;const o=n.match(i);n=o.reduce(((n,o)=>{var s=o[a].replace(i,"$1"),r=t.formatFunction(e,e[s],s),l=new RegExp("(\\${)("+s+")(})","gi");return n.replace(l,r)}),n);for(var a=0;a<data.length;a++){var r=data[a].replace(i,"$1"),l=t.formatFunction(e,e[r],r),c=new RegExp("(\\${)("+r+")(})","gi");n=n.replace(c,l)}s.innerHTML=n}else if(t.dataColumn){let n=null;try{n=t.formatFunction(e,e[t.dataColumn],t.dataColumn)}catch(o){n=e[t.dataColumn]?e[t.dataColumn].toString():""}s.innerHTML=n}return t.showDetailRow&&s.addEventListener("click",(()=>{if(!s.isShowDetail){s.isShowDetail=!0;const e=document.createElement("tr"),n=document.createElement("td");e.appendChild(n),n.colSpan=self.columnsCount,o.parentNode.insertBefore(e,o),t.showDetailRow(n,o,(()=>{e.remove(),s.isShowDetail=!1}))}})),t.style&&(s.style.cssText=t.style),t.className&&s.classList.add(t.className),t.afterCreated&&t.afterCreated(e,s),s},createGrid:function(e,t,n){this.createHeader(t),e.forEach((e=>{const t=this.createRow(n,e);t&&n.appendChild(t)}))},setTotalRows:function(e){self.totalRows=e,0==self.totalRows?self.showEmptyDataMessage():self.options.search(self.page-1,self.pageSize,self.getSortExpression(),self.binder)},getSortExpression:function(){return Object.keys(this.sortColumns).filter((e=>"none"!=this.sortColumns[e])).map((e=>e+" "+this.sortColumns[e])).join(",")},paginate:function(e){if(!this.options.drawFooter)return;const t=document.createElement("tr"),n=document.createElement("td");n.colSpan=this.columnsCount,t.appendChild(n),e.innerHTML="",e.appendChild(t),this.createPages(n),this.createPaginateSelect(n),this.createSumary(n)},createPaginateSelect:function(e){if(this.options.drawSelectPageSize){this.dropdownSize=document.createElement("select"),this.dropdownSize.addEventListener("change",(()=>{this.pageSize=this.dropdownSize.options[this.dropdownSize.selectedIndex].value,this.resetPageValues(),this.paginate(document.getElementById(this.elementSelector).find("tfoot")),this.search&&this.search(!1)})),this.options.pageSizeOptions.forEach(((e,t)=>{if("function"!=typeof e){const n=document.createElement("optionion");n.value=e,n.text=e,this.dropdownSize.appendChild(n),e==this.pageSize&&(this.dropdownSize.selectedIndex=t)}}));const t=document.createElement("div"),n=document.createElement("span");t.className="gfy-Tmp",t.style.float="left",n.appendChild(document.createTextNode(this.options.language.itensPerPageMessage)),t.appendChild(n),t.appendChild(pgSelect),e.appendChild(t)}},createPages:function(e){if(this.options.drawPages){this.divPagging=e.querySelector(".gfy-pg"),0!=this.divPagging.length?this.divPagging.innerHTML="":(this.divPagging=document.createElement("div"),divAux.className="gfy-pg",divAux.style.float="left",e.appendChild(this.divPagging));const n=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),i=document.createElement("a"),a=document.createElement("a"),r=document.createElement("a"),l=document.createElement("a"),c=document.createElement("ul");function t(e,t){let n;e.addEventListener("mouseenter",(()=>{n=setInterval((()=>{const e=o.scrollLeft+t;o.scrollTo(0,e)}),20)})),e.addEventListener("mouseleave ",(()=>clearInterval(n)))}n.className="gfyDivFirst",o.className="gfyRollover",s.className="gfyDivLast",i.className="gfyFirst",i.href="javascript:void(0);",i.innerHTML=this.options.language.page_first,a.className="gfyPrevious",a.href="javascript:void(0);",a.innerHTML=this.options.language.page_previous,n.appendChild(i),n.appendChild(a),r.className="gfyLast",r.href="javascript:void(0);",r.innerHTML=this.options.language.page_last,l.className="gfyNext",l.href="javascript:void(0);",l.innerHTML=this.options.language.page_next,s.appendChild(l),s.appendChild(r),c.className="gfyPages",o.appendChild(c),this.divPagging.appendChild(n),this.divPagging.appendChild(o),this.divPagging.appendChild(s),i.addEventListener("click",(()=>this.selectPage(1))),a.addEventListener("click",(()=>{this.page>1&&this.selectPage(this.page-1)})),t(a,-2),t(l,2),t(i,-10),t(r,10);const d=this.totalRows/this.pageSize;let u=parseInt(d),p=1;for(u<d&&u++;p<=u;p++){const e=document.createElement("li");e.className="lpg"+p,e.appendChild(document.createTextNode(p)),function(t){e.addEventListener("click",(()=>this.selectPage(t)))}(p),c.appendChild(e)}l.addEventListener("click",(()=>{this.page<u&&this.selectPage(this.page+1)})),r.addEventListener("click",(()=>{self.selectPage(u)}));let h=0,g=u,m=19,f=9;for(;g>0;)h+=g>f?f*m:g*m,g-=f,f*=10,m+=7;c.querySelector(".lpg"+this.page).classList.toggle("selectedPg"),c.style.width=h<256?"256px":h+"px",this.divPagging.style.marginLeft=-this.divPagging.width()/2+"px";const y=o.querySelector(".lpg"+this.page).offsetLeft-o.offsetleft;o.scrollTo(0,y-80)}},createSumary:function(e){if(!this.options.drawSumary)return;let t=e.querySelector(".gdySumary");t?t.innerHTML="":(t=document.createElement("div"),t.className="gdySumary",t.style.float="right",e.appendChild(t));const n=this.toRow<this.totalRows?this.toRow:this.totalRows,o=this.options.language.sumary.replace(/({fromRow})/gi,this.fromRow).replace(/({toRow})/gi,n).replace(/({totalRows})/gi,this.totalRows),s=document.createElement("span");s.appendChild(document.createTextNode(o)),t.appendChild(s)},selectPage:function(e){const t=document.getElementById(this.elementSelector);t.querySelector(".lpg"+this.page).classList.toggle("selectedPg"),this.page=e;const n=e-1;this.fromRow=this.pageSize*n+1,this.toRow=this.pageSize*(n+1),this.toRow>this.totalRows&&(this.toRow=this.totalRows);const o=t.querySelector("tfoot tr td");this.createSumary(o);const s=t.querySelector(".lpg"+this.page),i=t.querySelector(".gfyRollover");s.classList.toggle("selectedPg"),i.scrollTo(0,0);var a=s.offsetLeft-i.offsetLeft;i.scrollTo(0,a-80),this.search&&this.search(!1)},showEmptyDataMessage:function(){const e=document.createElement("tr"),t=document.createElement("td");t.appendChild(document.createTextNode(this.options.language.emptyDataMessage)),e.appendChild(t);const n=document.getElementById(this.elementSelector);n.innerHTML="",n.appendChild(e)},binder:function(result){let list;list="string"==typeof result?"undefined"!=typeof JSON?JSON.parse(result):eval("("+result+")"):result;const container=document.getElementById(self.elementSelector),header=container.querySelector("thead"),body=container.querySelector("tbody"),footer=container.querySelector("tfoot");body.innerHTML="",self.columns&&"object"==typeof self.columns?self.createGrid(list,header,body):this.processTemplate(body,self.options.language.templateRow,list),body.querySelectorAll("tr:even").forEach((function(e){e.classList.add("gdyEven")})),body.querySelectorAll("tr:odd").forEach((function(e){e.classList.add("gdyOdd")})),body.querySelectorAll("tr").forEach((function(e){function t(){e.classList.toggle("selectRowGdy")}e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",t),e.addEventListener("click",(function(){const t=e.dataRow;self.selectedRow=Array.prototype.indexOf.call(container.querySelector("tr").children,e),e.rebinder=function(t){const n=document.createElement("table");self.processTemplate(n,self.options.templateRow,data),e.innerHTML="",e.appendChild(n.querySelector("td").cloneNode(!0))},self.options.onSelectRow(self.selectedRow,e,e.rebinder,t)}))})),self.paginate(footer),footer.show(),self.divPagging&&window.setTimeout((function(){self.divPagging.style.marginLeft=""+-self.divPagging.width/2}),100)},processTemplate:function(e,t,n){e.innerHTML=n.reduce((function(e,n){return e+processTemplateLine(t,n)}),"")},processTemplateLine:function(e,t){return Object.keys(t).reduce((function(e,n){return e.replace("${"+n+"}",t[n])}),e)},search:function(e){e?this.options.getTotalRows(this.setTotalRows):this.options.search(this.page-1,this.pageSize,this.getSortExpression(),this.binder)}},window.Gridify=Gridify})()})();